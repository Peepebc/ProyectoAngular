<app-header></app-header>
<section class="flex flex-col md:flex-row justify-center items-center md:items-start py-10 gap-12">
  <div>
    <img class="max-w-xs w-96 rounded-lg" src="{{ pelicula.poster }}" />
  </div>
  <div class="w-full md:w-1/2 mt-5 flex flex-col gap-3 px-6">
    <h1 class="text-2xl font-bold">{{ pelicula.nombre }}</h1>
    <h1 class="text-2xl font-bold">{{ pelicula.anio }}</h1>
    <p>{{ pelicula.descripcion }}    </p>
  </div>
</section>
<section class="flex flex-col justify-center items-center py-10 gap-12">
  <div class="w-10/12" *ngIf="usuario!=null; else noLogin">
  <form class="w-full">
    <div
      class="w-full mb-4 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"
    >
      <div class="px-4 py-2 bg-white rounded-t-lg dark:bg-gray-800">
        <label for="comment" class="sr-only">Your comment</label>
        <textarea
          id="comment"
          rows="4"
          class="w-full px-0 text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400"
          placeholder="Write a comment..."
          required
        ></textarea>
      </div>
      <div
        class="flex items-center justify-between px-3 py-2 border-t dark:border-gray-600"
      >
        <button
          type="submit"
          class="inline-flex items-center py-2.5 px-4 text-xs font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800"
        >
          Post comment
        </button>
      </div>
    </div>
  </form>
</div>
<ng-template #noLogin><a class="text-blue-600 hover:underline " routerLink="/login">INICIE SESION PARA PODER COMENTAR</a></ng-template>

      <div class="w-10/12 divide-y" *ngIf="pelicula.comments.length > 0; else noComments">
      <div class="flex w-full" *ngFor="let comentario of pelicula.comments">
        <img
          class="rounded-[50%] object-cover w-20 h-20 p-4"
          src="{{comentario.usuarioPfp}}"
          alt=""
        />
        <div class="flex flex-col justify-center">
          <h1 class="font-extrabold">{{comentario.usuarioBean}}</h1>
          <h1 class="font-thin">{{comentario.comentario}}</h1>
        </div>
      </div>
  </div>
 <ng-template #noComments>NO HAY COMENTARIOS</ng-template>


</section>
